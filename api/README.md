# üîå ChemEco API Server

## üñ•Ô∏è Backend API –∑–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ –¥–æ–∫–ª–∞–¥–≤–∞–Ω–µ –Ω–∞ –æ—Ç–ø–∞–¥—ä—Ü–∏

–¢–æ–≤–∞ –µ Node.js/TypeScript API —Å—ä—Ä–≤—ä—Ä, –∫–æ–π—Ç–æ –æ–±—Å–ª—É–∂–≤–∞ –º–æ–±–∏–ª–Ω–æ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —É–µ–± –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ç–∞ –Ω–∞ ChemEco. –°—ä—Ä–≤—ä—Ä—ä—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è RESTful API –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏, –¥–æ–∫–ª–∞–¥–∏ –∑–∞ –æ—Ç–ø–∞–¥—ä—Ü–∏ –∏ –∫–∞—á–≤–∞–Ω–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å —Ñ–æ–∫—É—Å –≤—ä—Ä—Ö—É —Ö–∏–º–∏—á–Ω–∏—Ç–µ –∞—Å–ø–µ–∫—Ç–∏ –Ω–∞ –æ–∫–æ–ª–Ω–∞—Ç–∞ —Å—Ä–µ–¥–∞.

### ‚ú® –û—Å–Ω–æ–≤–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏

- üîê **JWT –∞–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è** - –°–∏–≥—É—Ä–Ω–∞ –∞–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è —Å JWT —Ç–æ–∫–µ–Ω–∏
- üë• **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏** - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, —Ä–æ–ª–∏ (user/admin)
- üìä **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏** –∑–∞ –¥–æ–∫–ª–∞–¥–∏ –∑–∞ –æ—Ç–ø–∞–¥—ä—Ü–∏
- üì∏ **–ö–∞—á–≤–∞–Ω–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** - Multer –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ
- üóÑÔ∏è **MySQL –±–∞–∑–∞ –¥–∞–Ω–Ω–∏** - –†–µ–ª–∞—Ü–∏–æ–Ω–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–∞ —Å—Ö–µ–º–∞
- üõ°Ô∏è **–°–∏–≥—É—Ä–Ω–æ—Å—Ç** - bcrypt –∑–∞ —Ö–µ—à–∏—Ä–∞–Ω–µ –Ω–∞ –ø–∞—Ä–æ–ª–∏
- üåê **CORS –ø–æ–¥–¥—Ä—ä–∂–∫–∞** - Cross-origin requests –∑–∞ —É–µ–± –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ç–∞
- üë§ **–ì–æ—Å—Ç–æ–≤–∏ –¥–æ–∫–ª–∞–¥–∏** - –í—ä–∑–º–æ–∂–Ω–æ—Å—Ç –∑–∞ –∞–Ω–æ–Ω–∏–º–Ω–∏ –¥–æ–∫–ª–∞–¥–∏
- üß™ **–•–∏–º–∏—á–Ω–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∏—Ä–∞–Ω–µ** - –ù–∞—É—á–µ–Ω –ø–æ–¥—Ö–æ–¥ –∫—ä–º –∫–ª–∞—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ –æ—Ç–ø–∞–¥—ä—Ü–∏

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ config/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏
‚îú‚îÄ‚îÄ controllers/        # Business logic
‚îú‚îÄ‚îÄ middleware/         # Authentication middleware
‚îú‚îÄ‚îÄ models/            # –ú–æ–¥–µ–ª–∏ –∑–∞ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏
‚îú‚îÄ‚îÄ routes/            # API –º–∞—Ä—à—Ä—É—Ç–∏
‚îî‚îÄ‚îÄ services/          # –ü–æ–º–æ—â–Ω–∏ —É—Å–ª—É–≥–∏
```

## üöÄ –ò–Ω—Å—Ç–∞–ª–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–∏ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è

- Node.js (–≤–µ—Ä—Å–∏—è 18 –∏–ª–∏ –ø–æ-–≤–∏—Å–æ–∫–∞)
- MySQL Server (–≤–µ—Ä—Å–∏—è 8.0 –∏–ª–∏ –ø–æ-–≤–∏—Å–æ–∫–∞)
- npm –∏–ª–∏ yarn

### –°—Ç—ä–ø–∫–∏ –∑–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è

1. **–ö–ª–æ–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞**
```bash
git clone https://github.com/BRMilev22/eccc.git
cd eccc/api
```

2. **–ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
```bash
npm install
# –∏–ª–∏
yarn install
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏**
```bash
# –í–ª–µ–∑—Ç–µ –≤ MySQL
mysql -u root -p

# –ò–∑–ø—ä–ª–Ω–µ—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç–∞
source ../ecccChemistryDb.sql
```

4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ environment variables**
–°—ä–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –≤ root –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞:
```env
# Database Configuration
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=ecccChemistryDb

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRES_IN=7d

# Server Configuration
PORT=3000
NODE_ENV=development

# Upload Configuration
UPLOAD_DIR=public/uploads
MAX_FILE_SIZE=5242880
```

5. **–ö–æ–º–ø–∏–ª–∏—Ä–∞–Ω–µ –Ω–∞ TypeScript**
```bash
npm run build
```

6. **–°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞**
```bash
# Development mode
npm run dev

# Production mode
npm start
```

–°—ä—Ä–≤—ä—Ä—ä—Ç —â–µ –±—ä–¥–µ –¥–æ—Å—Ç—ä–ø–µ–Ω –Ω–∞ `http://localhost:3000`

### üìä –¢–∏–ø–æ–≤–µ –æ—Ç–ø–∞–¥—ä—Ü–∏ (–•–∏–º–∏—á–Ω–∞ –∫–ª–∞—Å–∏—Ñ–∏–∫–∞—Ü–∏—è)

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –•–∏–º–∏—á–Ω–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ |
|-----|----------|----------------------|
| ü•§ **PLASTIC** | –ü–ª–∞—Å—Ç–º–∞—Å–æ–≤–∏ –æ—Ç–ø–∞–¥—ä—Ü–∏ | –ü–æ–ª–∏–º–µ—Ä–∏ (PET, PE, PP, PS) |
| üçé **FOOD** | –û—Ä–≥–∞–Ω–∏—á–Ω–∏ –æ—Ç–ø–∞–¥—ä—Ü–∏ | –ë–∏–æ—Ä–∞–∑–≥—Ä–∞–¥–∏–º–∏ —Å—ä–µ–¥–∏–Ω–µ–Ω–∏—è |
| ‚ò†Ô∏è **HAZARDOUS** | –û–ø–∞—Å–Ω–∏ –æ—Ç–ø–∞–¥—ä—Ü–∏ | –¢–æ–∫—Å–∏—á–Ω–∏ —Ö–∏–º–∏–∫–∞–ª–∏ –∏ —Ç–µ–∂–∫–∏ –º–µ—Ç–∞–ª–∏ |
| üìÑ **PAPER** | –•–∞—Ä—Ç–∏–µ–Ω–∏ –æ—Ç–ø–∞–¥—ä—Ü–∏ | –¶–µ–ª—É–ª–æ–∑–Ω–∏ –≤–ª–∞–∫–Ω–∞ |
| üì± **ELECTRONICS** | –ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏ –æ—Ç–ø–∞–¥—ä—Ü–∏ | –†—è–¥–∫–æ–∑–µ–º–Ω–∏ –µ–ª–µ–º–µ–Ω—Ç–∏, –ª–∏—Ç–∏–π |
| üóëÔ∏è **MIXED** | –°–º–µ—Å–µ–Ω–∏ –æ—Ç–ø–∞–¥—ä—Ü–∏ | –†–∞–∑–ª–∏—á–Ω–∏ –∫–æ–º–ø–æ–∑–∏—Ç–Ω–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∏ |

### ‚ö° –ù–∏–≤–∞ –Ω–∞ —Å–µ—Ä–∏–æ–∑–Ω–æ—Å—Ç

- üü¢ **LOW** - –ú–∏–Ω–∏–º–∞–ª–Ω–æ –µ–∫–æ–ª–æ–≥–∏—á–Ω–æ –≤—ä–∑–¥–µ–π—Å—Ç–≤–∏–µ
- üü° **MEDIUM** - –£–º–µ—Ä–µ–Ω–æ –≤—ä–∑–¥–µ–π—Å—Ç–≤–∏–µ –≤—ä—Ä—Ö—É –æ–∫–æ–ª–Ω–∞—Ç–∞ —Å—Ä–µ–¥–∞
- üî¥ **HIGH** - –ö—Ä–∏—Ç–∏—á–Ω–æ –≤—ä–∑–¥–µ–π—Å—Ç–≤–∏–µ, –∏–∑–∏—Å–∫–≤–∞ –Ω–µ–∑–∞–±–∞–≤–Ω–∞ –Ω–∞–º–µ—Å–∞

## üìö API Documentation

#### POST /api/auth/register
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –Ω–æ–≤ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª

**Request Body:**
```json
{
  "username": "testuser",
  "email": "test@example.com",
  "password": "password123"
}
```

**Response:**
```json
{
  "user": {
    "id": 1,
    "username": "testuser",
    "email": "test@example.com",
    "isAdmin": false
  },
  "token": "jwt_token_here"
}
```

#### POST /api/auth/login
–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º–∞—Ç–∞

**Request Body:**
```json
{
  "username": "testuser",
  "password": "password123"
}
```

**Response:**
```json
{
  "user": {
    "id": 1,
    "username": "testuser",
    "email": "test@example.com",
    "isAdmin": false
  },
  "token": "jwt_token_here"
}
```

### üìä Reports Endpoints

#### GET /api/reports
–ü–æ–ª—É—á–∞–≤–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –¥–æ–∫–ª–∞–¥–∏

**Response:**
```json
[
  {
    "id": 1,
    "userId": 2,
    "photo_url": "uploads/image.jpg",
    "latitude": 42.6977,
    "longitude": 23.3219,
    "description": "Plastic bottles near park",
    "trash_type": "PLASTIC",
    "severity_level": "HIGH",
    "status": "REPORTED",
    "created_at": "2024-01-15T10:30:00.000Z"
  }
]
```

#### POST /api/reports
–°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –Ω–æ–≤ –¥–æ–∫–ª–∞–¥

**Headers:**
```
Authorization: Bearer jwt_token_here (optional for guests)
```

**Request Body:**
```json
{
  "photoUrl": "uploads/image.jpg",
  "latitude": 42.6977,
  "longitude": 23.3219,
  "description": "Large pile of plastic waste",
  "trashType": "PLASTIC",
  "severityLevel": "HIGH"
}
```

**Response:**
```json
{
  "id": 1,
  "userId": 2,
  "photoUrl": "uploads/image.jpg",
  "latitude": 42.6977,
  "longitude": 23.3219,
  "description": "Large pile of plastic waste",
  "trashType": "PLASTIC",
  "severityLevel": "HIGH",
  "status": "REPORTED"
}
```

#### GET /api/reports/:id
–ü–æ–ª—É—á–∞–≤–∞–Ω–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω –¥–æ–∫–ª–∞–¥

**Response:**
```json
{
  "id": 1,
  "userId": 2,
  "photo_url": "uploads/image.jpg",
  "latitude": 42.6977,
  "longitude": 23.3219,
  "description": "Plastic bottles near park",
  "trash_type": "PLASTIC",
  "severity_level": "HIGH",
  "status": "REPORTED",
  "created_at": "2024-01-15T10:30:00.000Z"
}
```

#### PATCH /api/reports/:id
–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –¥–æ–∫–ª–∞–¥ (–∏–∑–∏—Å–∫–≤–∞ –∞–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è)

**Headers:**
```
Authorization: Bearer jwt_token_here
```

**Request Body:**
```json
{
  "status": "CLEANED",
  "description": "Updated description"
}
```

#### DELETE /api/reports/:id
–ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –¥–æ–∫–ª–∞–¥ (–∏–∑–∏—Å–∫–≤–∞ –∞–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è)

**Headers:**
```
Authorization: Bearer jwt_token_here
```

### üì∏ Upload Endpoints

#### POST /api/upload
–ö–∞—á–≤–∞–Ω–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

**Request:**
- Content-Type: multipart/form-data
- Field name: "image"
- Supported formats: JPG, JPEG, PNG
- Max size: 5MB

**Response:**
```json
{
  "imageUrl": "uploads/uuid-filename.jpg",
  "message": "Image uploaded successfully"
}
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω–∏

### –°—Ö–µ–º–∞ –Ω–∞ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏

#### users —Ç–∞–±–ª–∏—Ü–∞
```sql
CREATE TABLE users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  username VARCHAR(50) NOT NULL UNIQUE,
  email VARCHAR(100) NOT NULL UNIQUE,
  password VARCHAR(255) NOT NULL,
  role ENUM('user', 'admin') DEFAULT 'user',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  last_login TIMESTAMP NULL
);
```

#### trash_reports —Ç–∞–±–ª–∏—Ü–∞
```sql
CREATE TABLE trash_reports (
  id INT AUTO_INCREMENT PRIMARY KEY,
  user_id INT NULL,
  photo_url VARCHAR(512) NOT NULL,
  latitude DECIMAL(10, 8) NOT NULL,
  longitude DECIMAL(11, 8) NOT NULL,
  description TEXT,
  trash_type ENUM('PLASTIC', 'FOOD', 'HAZARDOUS', 'PAPER', 'ELECTRONICS', 'MIXED') NULL,
  severity_level ENUM('LOW', 'MEDIUM', 'HIGH') NULL,
  status ENUM('REPORTED', 'IN_PROGRESS', 'CLEANED', 'VERIFIED') DEFAULT 'REPORTED',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP NULL ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL
);
```

### –ò–Ω–¥–µ–∫—Å–∏
- `idx_lat_long` - –ó–∞ –±—ä—Ä–∑–∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω–∏ –∑–∞—è–≤–∫–∏
- `idx_status` - –ó–∞ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ —Å—Ç–∞—Ç—É—Å
- `idx_trash_type` - –ó–∞ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ —Ç–∏–ø –æ—Ç–ø–∞–¥—ä–∫
- `idx_severity` - –ó–∞ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –Ω–∏–≤–æ –Ω–∞ —Å–µ—Ä–∏–æ–∑–Ω–æ—Å—Ç

## üõ°Ô∏è –°–∏–≥—É—Ä–Ω–æ—Å—Ç

### –ê–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è
- JWT —Ç–æ–∫–µ–Ω–∏ —Å expiration
- bcrypt —Ö–µ—à–∏—Ä–∞–Ω–µ –Ω–∞ –ø–∞—Ä–æ–ª–∏ (salt rounds: 10)
- –ó–∞—â–∏—Ç–µ–Ω–∏ –º–∞—Ä—à—Ä—É—Ç–∏ —Å middleware

### –í–∞–ª–∏–¥–∞—Ü–∏—è
- Input validation –∑–∞ –≤—Å–∏—á–∫–∏ endpoints
- File type validation –∑–∞ uploads
- Size limits –∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### CORS
```typescript
app.use(cors({
  origin: ['http://localhost:19006', 'http://localhost:8081'],
  credentials: true
}));
```

## üìÅ –§–∞–π–ª–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ db.ts              # MySQL connection
‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îú‚îÄ‚îÄ authController.ts   # Authentication logic
‚îÇ   ‚îú‚îÄ‚îÄ trashReportController.ts # Reports CRUD
‚îÇ   ‚îî‚îÄ‚îÄ uploadController.ts # File upload handling
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îî‚îÄ‚îÄ authMiddleware.ts   # JWT verification
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ user.ts            # User model
‚îÇ   ‚îî‚îÄ‚îÄ trashReport.ts     # Report model
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ authRoutes.ts      # Auth endpoints
‚îÇ   ‚îú‚îÄ‚îÄ trashReportRoutes.ts # Report endpoints
‚îÇ   ‚îî‚îÄ‚îÄ uploadRoutes.ts    # Upload endpoints
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ uploadService.ts   # File handling utilities
‚îî‚îÄ‚îÄ index.ts              # Server entry point
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (tsconfig.json)
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "resolveJsonModule": true
  }
}
```

### Package.json scripts
```json
{
  "scripts": {
    "start": "node dist/index.js",
    "dev": "nodemon src/index.ts",
    "build": "tsc",
    "test": "echo \"Error: no test specified\" && exit 1"
  }
}
```

## üß™ –¢–µ—Å—Ç–≤–∞–Ω–µ

### API —Ç–µ—Å—Ç–≤–∞–Ω–µ —Å curl

**–¢–µ—Å—Ç –Ω–∞ –≤—Ä—ä–∑–∫–∞—Ç–∞:**
```bash
curl http://localhost:3000/api/reports/debug
```

**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
```bash
curl -X POST http://localhost:3000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"username":"test","email":"test@test.com","password":"test123"}'
```

**–ü–æ–ª—É—á–∞–≤–∞–Ω–µ –Ω–∞ –¥–æ–∫–ª–∞–¥–∏:**
```bash
curl http://localhost:3000/api/reports
```

### Postman Collection
–ú–æ–∂–µ –¥–∞ —Å—ä–∑–¥–∞–¥–µ—Ç–µ Postman collection —Å –≤—Å–∏—á–∫–∏ endpoints –∑–∞ –ø–æ-–ª–µ—Å–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ.

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–æ–≤–µ

### –õ–æ–≥–æ–≤–µ
–°—ä—Ä–≤—ä—Ä—ä—Ç –ª–æ–≥–≤–∞:
- HTTP –∑–∞—è–≤–∫–∏ –∏ –æ—Ç–≥–æ–≤–æ—Ä–∏
- Database –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ì—Ä–µ—à–∫–∏ –∏ exceptions
- File upload –æ–ø–µ—Ä–∞—Ü–∏–∏

### Health Check
```bash
GET /api/reports/debug
```

–í—Ä—ä—â–∞ —Å—Ç–∞—Ç—É—Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ —Å—ä—Ä–≤—ä—Ä–∞.

## üöÄ –î–µ–ø–ª–æ–π

### Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. **Environment variables**
```env
NODE_ENV=production
DB_HOST=your_production_db_host
JWT_SECRET=very_strong_secret_key
```

2. **PM2 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
```json
{
  "name": "ecotracker-api",
  "script": "dist/index.js",
  "instances": "max",
  "exec_mode": "cluster",
  "env": {
    "NODE_ENV": "production"
  }
}
```

3. **Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location /api {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    location /uploads {
        alias /path/to/your/uploads;
    }
}
```

## üêõ –û—Ç—Å—Ç—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏

### –ß–µ—Å—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏

1. **Database connection failed**
   - –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ MySQL —Å—ä—Ä–≤—ä—Ä–∞
   - –í–∞–ª–∏–¥–∏—Ä–∞–π—Ç–µ credentials –≤ .env
   - –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ firewall –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ

2. **JWT token invalid**
   - –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ JWT_SECRET –≤ .env
   - –í–∞–ª–∏–¥–∏—Ä–∞–π—Ç–µ token format
   - –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ expiration time

3. **File upload failed**
   - –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ permissions –Ω–∞ uploads –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞
   - –í–∞–ª–∏–¥–∏—Ä–∞–π—Ç–µ file size –∏ type
   - –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ UPLOAD_DIR –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞

### Debug —Ä–µ–∂–∏–º
```bash
DEBUG=* npm run dev
```

## üìà Performance

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- Database –∏–Ω–¥–µ–∫—Å–∏ –∑–∞ –±—ä—Ä–∑–∏ –∑–∞—è–≤–∫–∏
- Connection pooling –∑–∞ MySQL
- File compression –∑–∞ uploads
- Rate limiting (–ø—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ)

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Response time tracking
- Database query monitoring
- Error rate tracking
- Memory usage monitoring

## üîÑ API Versioning

–¢–µ–∫—É—â–∞—Ç–∞ –≤–µ—Ä—Å–∏—è: v1
Base URL: `/api/`

–ë—ä–¥–µ—â–∏ –≤–µ—Ä—Å–∏–∏ —â–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç: `/api/v2/`, `/api/v3/` –∏ —Ç.–Ω.

## üìÑ –õ–∏—Ü–µ–Ω–∑

–¢–æ–∑–∏ –ø—Ä–æ–µ–∫—Ç –µ —É—á–µ–±–µ–Ω –∏ –µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –∑–∞ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª–Ω–∏ —Ü–µ–ª–∏.

## ü§ù –ü—Ä–∏–Ω–æ—Å

–ó–∞ –≤—ä–ø—Ä–æ—Å–∏ –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ—Ç–Ω–æ—Å–Ω–æ API-—Ç–æ, –º–æ–ª—è —Å–≤—ä—Ä–∂–µ—Ç–µ —Å–µ —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.

---

**Backend API –∑–∞ —É—á–µ–±–µ–Ω –ø—Ä–æ–µ–∫—Ç –ø–æ —Ö–∏–º–∏—è –∏ –æ–∫–æ–ª–Ω–∞ —Å—Ä–µ–¥–∞** üß™üåç

---

> **"–•–∏–º–∏—è –∑–∞ —É—Å—Ç–æ–π—á–∏–≤–∞ –æ–∫–æ–ª–Ω–∞ —Å—Ä–µ–¥–∞"** - ChemEco API 2025

*–†–∞–∑—Ä–∞–±–æ—Ç–µ–Ω–æ –æ—Ç –µ–∫–∏–ø–∞ –Ω–∞ –ü–ì–ö–ü–ò –∑–∞ –æ–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –ø—Ä–∏—Ä–æ–¥–∞—Ç–∞*
